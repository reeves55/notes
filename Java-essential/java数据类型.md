##从编解码角度看java数据类型

所以现在在程序设计语言的角度上来看看Java的数据类型，程序设计语言使我们和计算机进行沟通的桥梁和工具，我们把我们的思考逻辑变成代码，然后代码变成计算机指令。通过计算机程序这个中介，我们得以让计算机按照我们的思想进行计算，并得出我们想要的结果。

数据类型是什么呢，无非就是把我们人类世界用到的数据分分类，人类世界用的不叫数据，叫信息，信息在计算机世界里翻译过来就是数据，信息有种类，数据也就有了种类，每种类型的数据都有其特点，程序设计语言给我们定义了数据类型的概念用来方便我们选择我们想要用哪种类型的数据

信息和数据之间可以相互转换，但有一个前提是必需的，那就是数据一定要有规则。没有规则的数据不能转换成信息，也就不包含任何价值。计算机上存储的都叫数据，但这些数据是否都有意义，则取决于我们有没有“翻译”这些数据的方法。举个🌰，一段密文，在没有解密方法之前，密文只是数据，它没法转换成人类可以理解的，所以它不是信息，但是一旦有了解密的方法，看似乱七八糟的密文立马就能变成人们可以理解的信息。所以重点在于：数据的解析方法，也可以当成数据的“翻译”方法。

以这个角度来看数据类型，程序设计语言定义的种种类型，实际上也就是定义了一种种解析数据的规则，int类型，在把数值写入到内存时，会把10进制的值先“翻译”二进制的01串再存储进去，在读取的时候，会把内存当中的01串数据当成一个10进制数的二进制表示形式，所以会按照2进制到10进制的转换方式把01串“翻译”成我们能理解的数字。char类型，会把2个字节16位的01串当成Unicode编码当中的数字坐标，然后通过查找Unicode数字坐标和字符的对应关系，给我们呈现可以认识的字符，而不是01二进制串。

很容易理解的是，这种转换规则是我们可以自己定义的，所以才有了像protoBuffer，它定义了信息如何转换成二进制01串，也同样定义了01串如何转换成特定类型的信息。数据类型也没有什么神秘的，它就是语言设计者定义的一些规则而已。

有了数据类型这种理解就好说明什么是强类型语言，什么是弱类型语言了，强类型语言意味着你在程序当中一个变量必须声明为一种特定的数据类型，之后这个变量的值就只能存储这一种类型的值了，如果你对这个变量做的操作超过了变量所属数据类型允许的操作范围之外，那么程序在编译期间就会报错，这个专业点叫类型安全，这样你就不可能在本来存储int整型数据的内存空间上存储float浮点数，因为变量已经定义成int类型，那么对内存当中的01串的理解方式都是按照整型的规则来的，而浮点数在内存当中01串的表示规则和整型是完全不一样的，强行把它解释成整型只能得到完全没有意义的值，所以强类型语言是绝对不允许这样做的；而弱类型语言不一样，弱类型语言基本指的是脚本语言，它没有数据类型这么一说，你想定义什么数据就定义什么数据，一个var关键字就搞定，var a = 1; var a = {key:"value"};var a = 1.5...，这都可以，你可以对一个变量赋予不同数据类型的值，比如var a=1; a=3.5; 这并不会引起错误，它的规则是什么样的呢，就是变量它只代表一片内存空间的地址，他不管你要往这片内存空间里面塞什么，加入你塞进去的是整型int，那么这片内存区域存储的就是数字的二进制01串，如果你往里面塞的是一个浮点数float，那么这片内存区域存储的就变成了浮点数在内存当中表示的01串。当你要用这个变量的时候，这片内存区域当中的01串该按照什么规则去理解呢？是不是问题就来了，既然动态语言不管你把变量赋值成什么类型，那么我怎么知道我究竟赋值了什么类型呢？如果不知道赋值了什么数据类型，那岂不是自己把自己给整懵了嘛，哎，这个问题可以用javascript来举🌰，js 在底层存储变量的时候，会在变量的机器码的低位1-3位存储其类型信息👉

- 000：对象
- 010：浮点数
- 100：字符串
- 110：布尔
- 1：整数

这就是动态语言知道当前变量所对应的内存空间里究竟存储着什么类型数据的秘密。



参考：

https://juejin.im/post/5b0b9b9051882515773ae714

https://lenciel.com/2016/09/types-in-programming-languages/

