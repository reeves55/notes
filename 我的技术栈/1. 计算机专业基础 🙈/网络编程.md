# 网络编程



网络编程实际上主要就是实现```主机之间```通过 ```网络``` 的 ```数据交互```，我们有两个实现目标

1. 速度快；
2. 稳定性高；



速度的衡量指标：请求的平均响应时间 = 接收到请求响应的时间 - 请求发出的时间





### 1. 发送阶段





### 2. 传输阶段



主机之间网络通信的速度主要取决于几个因素：

1. **主机之间通信用的是短连接还是长连接**；

   短连接不适合频繁数据交互的场景，因为TCP连接每个连接都需要三次握手四次挥手，为了完成一次数据交互，额外的操作太多，会增加数据交互的延迟，而长连接，因为多次数据交互复用同一个TCP连接，平均下来，每次数据交互的额外操作会很少；

2. **主机之间通信的网络状况**；

   既然是通过网络实现数据交互，那网络状况糟糕的话，会存在大量的丢包现象，丢包数据 就需要重传，这个时候延迟会大大增加；

3. **应用层传输的数据量大小**；

   这个也很好理解，如果主机之间传输同样多量的业务数据，采用HTTP1.1+JSON和采用HTTP2+gRPC肯定传输的字节数据肯定是不一样的，这一块主要取决于 ```应用层的协议``` 和 ```数据序列化的方式```；



### 3. 服务端处理阶段

服务端处理分为两块，1. 处理连接请求；2. 业务处理；



#### 3.1 处理客户端连接请求

这里的关键点是服务端采用什么样子的I/O模型，BIO？NIO？AIO？，不同的I/O模型处理请求的能力是不同的，



#### 3.2 业务处理





